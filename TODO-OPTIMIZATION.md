# 芒果庄园 优化总清单 — 按优先级排序

## 原则
1. 好玩 > 流畅 > 炫酷
2. 放大优势（Boss/庄园/精灵），不追求十全十美
3. 消灭硬伤，不要明显短板
4. 性能第一，花里胡哨不能影响体验

## P0 — 必须做（硬伤/核心体验）

### [x] 性能优化
- [x] render() DOM复用，不重建
- [x] 移除infinite CSS动画
- [x] 粒子数量限制
- [x] 缓存chrome高度测量
- [ ] **验证：实际手机测试是否还卡** ← 最重要

### [ ] 三大模块闭环串联
- [x] 精灵大招：全屏闪光+技能名+戏剧性效果
- [x] Boss战：红色紧张氛围+狂暴模式+伤害飘字
- [ ] **庄园Buff可视化**：玩家能直观感受到Buff在起作用
  - 开局炸弹：第一次render时炸弹宝石有专属出场动画
  - 额外步数：步数显示闪光提示"+2 来自月光树"
  - 4消彩虹：4消时彩虹出现有特殊闪光
  - 分数加成：得分时显示"x1.2"浮字
- [ ] **闭环流程**：消除→充能精灵→释放大招→打Boss→赢Buff→下一关更强

### [x] 消除手感
- [x] 匹配动画（pop BEFORE clear）
- [x] 掉落动画（falling class）
- [x] 新宝石生成动画（new class）
- [x] 连击系统（GOOD→GODLIKE）

## P1 — 重要（差异化/好玩）

### [x] 魔兽世界视觉
- [x] 10章节主题色（森林绿→终焉红）
- [x] 宝石彩色光晕背景
- [x] 更fitting的emoji
- [ ] **Boss入场动画增强**：Boss出现时屏幕变暗+Boss大图+台词逐字出现
- [ ] **关卡地图**：章节选择界面更像WoW大地图风格

### [ ] 难度曲线
- [ ] 前10关是否太容易？（教学阶段OK）
- [ ] 中期20-50关是否有足够挑战？
- [ ] Boss关难度是否匹配？
- [ ] 限时关是否紧张刺激？

### [ ] 上瘾机制
- [ ] 三星评价的"差一点就三星"感觉
- [ ] 失败后"再来一次"的冲动
- [ ] 连续登录奖励递增
- [ ] 稀有宝石收集的满足感

## P2 — 加分项（锦上添花）

### [ ] 音效/音乐
- [x] BGM旋律
- [x] 连击音阶
- [ ] Boss关不同BGM节奏
- [ ] 匹配音效差异化（不同宝石不同音高）

### [ ] 社交/分享
- [ ] 截图分享功能
- [ ] "打败了XX Boss"成就分享

### [ ] 视觉打磨
- [x] 特殊宝石发光
- [x] 屏幕震动
- [ ] 过场动画更流畅
- [ ] loading界面打磨

---
当前进度：P0 完成80%，P1 完成40%，P2 完成30%
关键阻塞：手机实测性能确认
